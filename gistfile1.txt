(defn canvas [xs]
	(let [f (JFrame.)
				c (proxy [Canvas] []
			(update [g]
				(doto g (.clearRect 0 0 300 300))
				(doseq [x @xs] (. g fillRect x 100 10 10))))]
        (. f setSize 300 300)
	(. f add c)
	(. f setVisible true)
	c))


;; Looping with State:
; ('n' should be set by the frame, or some such...)
(defn incr [xs f n]
	(reset! xs (map #(+ 1 %1) @xs))
	(println @xs)
	(reset! n (- @n 1))
	(when (> @n 0) (recur xs f n)))
